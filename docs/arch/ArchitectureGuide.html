<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--*** This is a generated file.  Do not edit.  ***-->
<!--link rel="stylesheet" href="../../skin/tigris.css" type="text/css">
<link rel="stylesheet" href="../../skin/mysite.css" type="text/css">
<link rel="stylesheet" href="../../skin/site.css" type="text/css">
<link media="print" rel="stylesheet" href="../../skin/print.css" type="text/css"-->
<title>Architecture Guide</title>
</head>
<body bgcolor="white" class="composite">
<!--================= start Banner ==================-->
<div id="banner">
<table width="100%" cellpadding="8" cellspacing="0" summary="banner" border="0">
<tbody>
<tr>

<!--================= start Project Logo ==================--><td align="right">
<div class="projectLogo">
<a href="http://ws.apache.org/axis/"><img border="0" class="logoImage" alt="The Apache Axis Project" src="../images/axis.jpg"></a>
</div>
</td>
<!--================= end Project Logo ==================-->
<!--================= start Search ==================-->
<!--================= end Search ==================-->
</tr>
</tbody>
</table>
</div>

<!--================= end Status ==================-->
<table id="main" width="100%" cellpadding="8" cellspacing="0" summary="" border="0">
<tbody>
<tr valign="top">
<!--================= start Menu ==================-->

<!--================= end Menu ==================-->
<!--================= start Content ==================--><td>
<div id="bodycol">
<div class="app">
<div align="center">
<h1>Architecture Guide</h1>
</div>
<div class="h3">
<div class="h3">
<h3>Architecture Guide</h3>
</div>
<div class="h4">
<h4>Contents</h4>
</div>
<ul>
<li>
<a href="#intro">Introduction</a>
</li>
<li>
<a href="#webapp">Architecture Overview</a>
</li>
<li>
<a href="#depend">&nbsp;&nbsp;1.AxisEngine</a>
</li>
<li>
<a href="#start">&nbsp;&nbsp;2.HandlerPool</a>
</li>
<li>
<a href="#msoap">&nbsp;&nbsp;3.Message Model</a>
</li>
<li>
<a href="#install-test">&nbsp;&nbsp;4.Soap Deserializer</a>
</li>
<li>
<a href="#deploy">&nbsp;&nbsp;5.Soap Serializer</a>
</li>
<li>
<a href="#test">&nbsp;&nbsp;6.WSDD Module</a>
</li>
<li>
<a href="#massagef">Message Flow</a>
</li>
<li>
<a href="#wrapper">WSDL2Ws Tool</a>
</li>
<li>
<a href="#Dbook">Diagram Book</a>
</li>
<li>
<a href="#open">Open Issues</a>
</li>
</ul>
<p>
<a name="intro"></a>
</p>
<div class="h4">
<h4>Introduction</h4>
</div>
<p>This guide describes the architecture of Axis C++ implementation.</p>
<br>
<p>
<a name="webapp"></a>
</p>
<div class="h4">
<h4>Architecture Overview</h4>
</div>
<p>Axis C++ is all about deploying C++ web services and processing SOAP messages. Axis C++ architecture closely follows Axis Java in Handler and message paths.</p>
<div class="h2">
<h2>Handlers and the Message Path in Axis</h2>
</div>
<p>Axis C++ implementation follows how handlers and message paths work in Axis Java implementation. When the central Axis processing logic runs, a series of Handlers are each invoked in order. The order of invocation is determined by two factors - deployment configuration and whether the engine is a client or a server. The object which is passed to each Handler invocation is a <strong>MessageData</strong>
</p>
<br>
<ul>
<li>Deserializer</li>
<li>Serializer</li>
<li>A bag of properties</li>
<li style="list-style: none">
<br>
<br> We will be discussing more on each of this later on this Architecture Guide.</li>
</ul>
<div class="h2">
<h2>Message Path on the Server</h2>
</div>
<br>
<p>
<img border="0"  src="images/massagep.jpg"></p>
<br>
<br>
<br>
<p>figure 1.0</p>
<p>Above diagram shows you how the Axis C++ Engine architecture works to invoke functions of Axis C++ Server Engine.</p>
<br>
<br>
<strong>Note:</strong>
<br>
<br>
<p>
<a name="#massagef"></a>
</p>
<div class="h4">
<h4>Message Flow</h4>
</div>
<div class="h2">
<h2>Handlers and Chains</h2>
</div>
<p>
<img border="0"  src="images/pivots.jpg"></p>
<br>
<br>
<p>figure 3.0</p>
<p>A web service does not necessarily send a response message to each request message, although many do. However, response Handlers are still useful in the message path even when there isn't a response message, e.g. to stop timers, clean up resources, etc. A Chain is a composite Handler, i.e. it aggregates a collection of Handlers as well as implementing the Handler interface</p>
<p>A Chain also has similarities to the Chain of Responsibility design pattern in which a request flows along a sequence of Handlers until it is processed. Although an Axis Chain may process a request in stages over a succession of Handlers, it has the same advantages as Chain of Responsibility: flexibility and the ease with which new function can be added. Back to message processing -- a message is processed by passing through the appropriate Chains. A message Data is used to pass the message and associated environment through the sequence of Handlers. The model is that Axis Chains are constructed offline by having Handlers added to them one at a time. Then they are turned online and message data start to flow through the Chains. Handlers and Chains can be defined to have 'request', 'session', or 'application' scope.</p>
<p>
<a name="depend"></a>
</p>
<div class="h4">
<h4>1.Axis Engine</h4>
</div>
<p>
<img border="0" src="images/d1-3.jpg"></p>
<br>
<br>
<p>
<a name="start"></a>
</p>
<div class="h4">
<h4>2.HandlerPool</h4>
</div>
<p>
<br>1. Loads and keeps Transport and Global handlers.<br>2. Loads service specific handlers when needed and unloads when needed.<br>3. Loads target web service handler when needed and unloads when needed.</p>
<p>In order for the HandlerLoader to dynamically load a class, every DLL (or Shared object) must have following export functions.</p>
<p>int GetClassInstance(DCLInterface **inst);</p>
<p>int DestroyInstance(DCLInterface *inst);</p>
<p>AxisEngine has no idea of any web service methods in the deployed web service class that is dynamically loaded from a DLL. Therefore in order to communicate with loaded class we have to have a known interface. This interface is known as <strong>BasicHandler</strong>and is known to AxisEngine. This interface is implemented by every webservice and a handler.</p>
<p>
<a name="msoap"></a>
</p>
<div class="h4">
<h4>3.Message Model</h4>
</div>
<br>
<br>
<br>
<br>
<br>
<p>
<img border="0" src="images/soap.jpg"></p>
<br>
<br>
<p>
<a name="install-test"></a>
</p>
<div class="h4">
<h4>4.Soap Deserializer</h4>
</div>
<p>Currently the Soap Deserializer is implemented using SAX2 parser. Soap Deserializer exposes and API such that the API is independent of the implementation.</p>
<p>
<a name="deploy"></a>
</p>
<div class="h4">
<h4>5.Soap Serializer</h4>
</div>
<p>Soap Serializer's task is to generate the SOAP stream to be sent. There are a set of functions (API that is the opposite functionality with Soap Deserializer). Once the Serializer is given all the information that is required to generate a SOAP using the API, the getStream(..) function can be used to generate the SOAP message.</p>
<p>
<a name="test"></a>
</p>
<div class="h4">
<h4>6.WSDD Module</h4>
</div>
<p>
<a name="wrapper"></a>
</p>
<div class="h4">
<h4>WSDL2Ws Tool</h4>
</div>
<a href="WSDL2Ws.html">WSDL2Ws.html</a>
<br>
<br>
<p>
<a name="Dbook"></a>
</p>
<div class="h4">
<h4>Diagram Book</h4>
</div>
<p>This <a href="usecase.html">Diagram Book</a> includes Following Diagrames which are drawn to describe Axis Cpp Engine and it's process.</p>
<p>1) Use case diagram(s)</p>
<p>2) Sequence diagrams</p>
<p>3) Class diagrams(s)</p>
<p>4) Deployment diagram(s)</p>
<p>
<a name="open"></a>
</p>
<div class="h4">
<h4>Open Issues</h4>
</div>
<hr noshade="noshade" size="1">

</div>
</div>
</div>
</td>
<!--================= end Content ==================-->
</tr>
</tbody>
</table>
<!--================= end Main ==================-->
<!--================= start Footer ==================-->
<div id="footer">
<table summary="footer" cellspacing="0" cellpadding="4" width="100%" border="0">
<tbody>
<tr>
<!--================= start Copyright ==================-->
<td colspan="2">
<div align="center">
<div class="copyright">
              Copyright &copy; 2000-2004&nbsp;The Apache Software Foundation. All rights reserved.
            </div>
</div>
</td>
<!--================= end Copyright ==================-->
</tr>
<tr>
<td align="left">
<!--================= start Host ==================-->
<!--================= end Host ==================--></td><td align="right">
<!--================= start Credits ==================-->
<div align="right">
<div class="credit"></div>
</div>
<!--================= end Credits ==================-->
</td>
</tr>
</tbody>
</table>
</div>
<!--================= end Footer ==================-->
</body>
</html>
