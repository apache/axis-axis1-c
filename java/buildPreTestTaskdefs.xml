<?xml version="1.0"?>
<!DOCTYPE project [
        <!ENTITY properties SYSTEM "file:xmls/properties.xml">
        <!ENTITY paths  SYSTEM "file:xmls/path_refs.xml">
        <!ENTITY taskdefs SYSTEM "file:xmls/taskdefs.xml">
]>

<!-- ===================================================================
==================================================================== -->

<project default="compile" basedir=".">

        &properties;
        &paths;
        &taskdefs;

  <!-- Give user a chance to override without editing this file
       (and without typing -D each time it compiles it) -->
  <property file="${user.home}/build.properties"/>

  <property name="ant.dir" value="${env.ANT_HOME}/lib" />

  <target name="compile">
    <mkdir dir="${build.dest}"/>
    <mkdir dir="${build.lib}"/>

    <echo message="ant.dir is ${ant.dir}" />

    <!-- build my ForEach task -->
    <ant inheritAll="true" antfile="test/foreachTask/build_foreach.xml" />

    <!-- build the RunAxisFunctionalTest task -->
    <javac srcdir="${basedir}"
      destdir="${ant.dir}">
      <include name="test/functional/ant/*.java" />
      <classpath refid="classpath"/>
    </javac>

    <!-- build the wsdl2java and java2wsdl tasks -->
    <javac srcdir="." destdir="${build.dest}" debug="${debug}">
      <classpath>
        <pathelement location="${build.lib}/${name}.jar"/>
        <pathelement location="${build.lib}/${jaxrpc}.jar"/>
        <path refid="classpath"/>
      </classpath>
      <include name="test/wsdl/*.java" />
    </javac>
  </target>
</project>
