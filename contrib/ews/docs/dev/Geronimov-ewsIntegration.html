<html>
<body>
<h1>Geronimo – JSR-109 Service Impl Integration</h1>
<p>Here I am trying to extend the Proposal by Luis and Jeremy  <a href="Geronimov-axisIntegration.html">Geronimov Axis Integration</a>.</p>
<p>The geronimo – JSR-109 Service Impl integration basically consists in the definition of a deployment architecture that defines the way how web services are implemented in Geronimo server and a set of interfaces that will be used by classes responsible for the ws's deployment.</p>
<image src="../images/ews-GerInt.gif"/>
<h2>How a web service request is served</h2>
<ol>
<li>A servlet listener that will wait for soap calls. This servlet provide by Axis will act as a JAX-RPC handler and will be in charge to dispatch request either to POJOs or EJBs. </li>
<li>The Axis webapp will be deployed at startup. Or if It's possible as soon as JAX-RPC handler is need.</li>
<li>There will be only one web-app where will reside the listeners and impl for the web ws, and the proxys to call the ejb service impl.</li>
</ol>

<h2>Deployment</h2>
<ol>
<li>We will extend existing module in charge of WAR and EJB-JAR deployment, to take into consideration specific ws deployment files.</li>
<li>The Geronimo deployer will call the EWS tool and it will generate the implementation classes + DD looking at the web service module. The EWS will take care of the parsing of the JSR109 specific DD (webservice.xml file and jaxrpc mapping file.) For avoid the web.xml and ejb-jar.xml are parsed twice EWS hope to use Geronimo DD mechanism (to my understating that can done via GBeans.) But right now EWS use DOM to parse them. </li>
<li>The implementation classes will contains a web service. To deploy the webservice in the Axis 3 things should be done.</li>
<ul>
<li>the classes in the webservice should be loaded to the WebContiner</li>
the web service can be deployed in Geronimo using the Axis AdminClient </li>
<li>The web service Client side stubs should be generated and the service interface (XXLocator) should be bind under the JNDI context. (if service mappings defined)</li>
<li>The WSDL file of the Web service should be published in the JAXR registry</li>
</ul>
<li>If the implementation bean is based on EJB the EWS will generate an EJB that used the Session Bean. The Geronimo EJB-Jar deployment support will be used to deploy the generated EJB. The EJB should be Bind under the JNDI name as given in the Open EJB DD generated by the EWS.</li>
<li>If we deployed the Axis webapp the first time a JAX-RPC handler is need, we will trigger an event that will do it </li>
</ol>
<h2>Concerns </h2>
<ol>
<li>We have to be sure that the service has started after the web container, because our service depends on it. How do we manage dependencies??
<li>Is it possible to have more than one listener (JAX-RPC handler)</li>
<li>How the “extend existing module in charge of WAR and EJB-JAR deployment” is done and we should decide how the EWS called from the module. I think to read and Loading the web service module, Class loading and parsing (created DDBeans and pass them in if that works or should I create the DDBeans myself.) the ejb-jar.xml and web.xml file EWS can use Geronimo services. </li>
<li>To get the Geronimo Internal based implementation working. I think it is theoretically resolved but got to get it working. </li>
</ol>

</body>
</html>