<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
                                           
  <meta http-equiv="Content-Type" content="text/html">
  <title>Axis C++ User Guide</title>
</head>
  <body>
                     
<h1>Contents</h1>

<dl>
<dt><a href="#Introducti">Introduction&nbsp;</a>
          </dt>
  <dt><a href="#What">What's in this release</a>
            </dt>
    <dt><a href="#Axis">Axis C++ now delivers the following key   features</a>
              </dt>
      <dt><a href="#Installing">Installing Axis and Using this Guide</a>
            </dt>
        <dt><br>
                  </dt>
          <dt><a href="#Download">Download Source Distribution</a>
                    </dt>
            <dd><a href="#Server">ServerSide Skeleton and Wrappers generated
    by       WSDL2ws Tool.</a>
                      </dd>
              <dd><a href="#Deploying">Deploying Services</a>
                        </dd>
                <dd><a href="#Client">Client side Stubs Generated by the
wsdl2ws     Tool</a>
                     </dd>
                  <dd><a href="#sps">Building Server Side for provided Samples</a>
                       </dd>
                    <dd><a href="#scls">Building Client Side for provided 
 Samples</a>
                         </dd>
			<dd><a href="#handlers">Handlers</a>
			<br>
                       </dd>
                      <dd><br>
                            </dd>
                        <dd><br>
                              </dd>
                          <dt><a href="#Download1">Download Binary</a>
                                </dt>
                            <dd><a href="#Server1">ServerSide Skeleton and 
 Wrappers   generated by       WSDL2ws Tool.</a>
                                  </dd>
                              <dd><a href="#Deploying1">Deploying Services</a>
                                    </dd>
                                <dd><a href="#Client1">Client side Stubs Generated
  by the wsdl2ws     Tool</a>
                                     </dd>
                                  <dd><a href="#bss">Building Server Side 
 for provided Samples</a>
                                       <br>
                                       </dd>
                                    <dd><a href="#bcs">Building Client Side 
 for provided Samples</a>
                                          </dd>
                                      <dd><br>
                                            </dd>
                                        </dl>
                                                                        
                                                                        
                                                                        
                                                                        
                               
                                        <dl>
                                        <dt><a href="#Getting">Getting a
CVS checkout</a>
                                            </dt>
                                          <dt><br>
                                              </dt>
                                            </dl>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><a name="Introducti"></a>
                                              </p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <h1>Introduction</h1>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>Welcome to Axis C++, the opensource
   c++ implementation of SOAP !</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                   
                                            <p> What is SOAP?&nbsp;</p>

                                                                        
                                                                        
                                                                        
                                                   
                                            <p>SOAP is an XML-based communication
   protocol and encoding format for inter-application communication. Originally
   conceived by Microsoft and  Userland software, it has evolved through
several    generations and the current  spec, SOAP 1.2 is fast growing in
popularity    and usage. The W3C's XML Protocol working group is in the process
of turning    SOAP into a true open standard, and as of this writing has
released a working    draft of SOAP 1.2, which cleans up some of the more
confusing areas of the   1.1 spec. SOAP is widely viewed as the backbone
to a new generation of cross-platform   cross-language distributed  computing
applications, termed  Web Services.  What is Axis C++? Axis C++ is  essentially
a SOAP engine.</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>This version is written in
 C++. Axis C++ SOAP engine adopts most of Axis  Java architecture. But it
has some major architectural innovations over Axis  Java in order to achieve 
 greater performance and efficiency.</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><a name="What"></a>
                                              </p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <h1>What's in this release?</h1>
                                                                        

                                                                        
                                                                        
                                                          
                                            <p>- Soap engine with both client
 and   server support</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- Support for both SOAP 1.1
 and SOAP 1.2</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- WSDD based deployment with
 dynamic   deployment tools.</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- Support for all basic types,
 Complex   types and Arrays</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- WSDL2WS tool for building 
 C/C++   components</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- Server side &#8211; Skeletons and
Wrappers</p>
                                                                        
                                                                        
                                                                        
                                                                        

                                            <p>- Client side &#8211; Stubs</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- WSDL2WS tool that generates
 wrappers,   which perform the following functions.  These wrappers act as
 RPC &nbsp; &nbsp;<br>
    &nbsp;&nbsp; Providers.</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- Serialization</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- Deserialization</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- Method invocation</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- WSDLs hosted statistically 
 in the server.</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- Standalone server (with
HTTP support)</p>
                                                                        
                                                                        

                                                                        
                                                          
                                            <p>- Web server modules for Apache
 1.3 &amp; Apache2 (Linux/Windows)</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- Basic Wrapper Class Generator
 tool.</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- Web interface to the deployed
 services and their WSDL s.</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- Sample web services and
client   applications.</p>
                                                                        
                                                                        
                                     
                                            <p>- Document style web services
 support<br>
                                          </p>
                                                                        

                                                                        
                                                                        
                                                          
                                            <p><a name="Axis"></a>
                                              </p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <h1>Axis C++ now delivers the
 following   key features</h1>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- Speed: Axis uses SAX (event-based)
   parsing to acheive significantly greater speed</p>
                                                                        
                                                                        
                                                                        
                                                                         
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- Flexibility</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- Stability , Component oriented
   Deployment</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- Transport Framework</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- WSDL support</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>AxisC++ 1.1 supports the Web
 Service   Description Language, version 1.1,  which allows you to easily
build stubs   to access remote services, and also  to automatically export
machine-readable   descriptions of your deployed services  from Axis. We
hope you enjoy using   Axis c++ 1.1. Please note that this is  an open-source
 effort - if you feel   the code could use some new features or fixes, please
 get involved and lend   a hand! The Axis developer community  welcomes your
 participation. Let us   know what you think! Please send feedback  about
the package to                                       <a href="mailto:axis-user@xml.apache.org">
        axis-user@xml.apache.org</a>
                                              </p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><a name="What1"></a>
                                              </p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>                         
                </p>
                                                                        
                                                                        

                                                                        
                                                          
                                            <h1>Installing Axis and Using
 this Guide</h1>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>See the Axis Installation Guide
for instructions on installing Axis C++</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong></strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>Before running the examples 
 in this   guide, you'll need to make sure that  your environment variables 
 and other   configurations are set correctly as described in Installation 
 guide. That   is you need</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- Axis C++</p>

                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- Apache1.3 (or Apache2.0)</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- expat</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- j2SDK1.4</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>installed and configured.</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><a name="Download"></a>
                                              </p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <h1></h1>
                                                                        
                                                                        

                                                                        
                                                          
                                            <p>Let's take a look at a sample
 Calculator   service client that will call  methods of a Calculator service
 deployed  on Axis C++.&nbsp;</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>                 
                       </strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>When starting with the valid
 WSDL   file to use Axis C++ you have to get  started with the tool called
 WSDL2Ws   which is written in Java. source for  WSDL2Ws tool is in</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>

                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>$AXISCPP_HOME/src/wsdl</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>You need the following jar
 files   included in the <strong>CLASSPATH</strong>  .</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- axis.jar</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- commons-discovery.jar</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- commons-logging.jar</p>
                                                                        
                                                                        

                                                                        
                                                          
                                            <p>- jaxrpc.jar</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- saaj.jar</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- wsdl4j.jar</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>- xml-apis.jar</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>The <strong>CLASSPATH</strong>
    Environment   Variable should have the absolute  paths of the jars (including 
 the jar file  name) given as a colon separated  list</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        

                                                          
                                            <p>Here is a sample <strong> /home/axisuser/.bash_profile</strong>
       file where  we specified those</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>AXIS_JARS_HOME="$AXISCPP_HOME/lib/axisjava"</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>AXIS_JARS="$AXIS_JARS_HOME/axis-<br>
           </strong><strong>ant.jar:$AXIS_JARS_HOME/axis.jar:$AXIS_JARS_HOME/commons-<br>
           </strong><strong>discovery.jar:$AXIS_JARS_HOME/commons-<br>
           </strong><strong>logging.jar:$AXIS_JARS_HOME/jaxrpc.jar:$AXIS_JARS_HOME/log4j-<br>
           </strong><strong>1.2.4.jar:$AXIS_JARS_HOME/saaj.jar:$AXIS_JARS_HOME/wsdl4j.jar"</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>JAVA_HOME="/usr/java"</strong></p>
                                                                        

                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>PATH="$PATH:$JAVA_HOME/bin:."</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>CLASSPATH="$CLASSPATH:./:$JAVA_HOME/lib:$AXIS_JARS:"</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>export PATH USER LOGNAME
   MAIL HOSTNAME HISTSIZE INPUTRC AXIS_JARS_HOME</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>AXIS_JARS JAVA_HOME 
 CLASSPATH</strong></p>
                                                                        
                                                                        

                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>Now</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>$ cd $AXISCPP_HOME/src/wsdl/</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>$ mkdir temp</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>$javac -d ./temp -sourcepath
   . ./org/apache/axis/wsdl/wsdl2ws/*.java</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>$cd temp</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>$jar -cvf wsdl2ws.jar 
 org</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>$cp -f wsdl2ws.jar 
 $AXISCPP_HOME/lib/axis</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>add this jar to the classpath
 as   well.(In the binary distribution you don't need to create this jar. It is already in
$AXISCPP_HOME/lib/axis)</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><a name="Server"></a>
                                              </p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <h1>Server side Skeleton And
Wrappers   Generated by the wsdl2ws Tool</h1>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>We use the sample at</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>$AXISCPP_HOME/samples/server/simple</strong></p>
                                            <p><strong><br>
                                            </strong></p>
                                                                        
                                                                        
                                                                        

                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                      
                                            <p>We use this sample to demonstrate
   the generation of serverside skeletons  and how to deploy a web service
 using  it.</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>Inside this folder you will
 find Calculator.wsdl file using which we generate skeleton and Wrappers. 
Here   is the command line arguments to generate the skeleton.</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>*important:In this
sample we generate the skeltons using Calculator.wsdl and wsdl2ws tool. But
in the folder you will find already generated files. If you wish to use those
without generating new ones you can do so. We recommend that you deploy the
sample with the already generated files in the first round and<br>
 later do the same with code generated from Calcuator.wsdl.<br>
                                            </strong></p>
                                            <p><br>
                                            <strong>cd $AXISCPP_HOME/samples/server/simple</strong></p>

                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>% java org.apache.axis.wsdl.wsdl2ws.WSDL2Ws
  Calculator.wsdl -lc++  -sserver</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>Note: If you give <strong>
   -o. /GenClassesServer</strong>      then the server  create a folder named 
 GenClassServer and put the source   there. Otherwise  the source is put in
 the current folder where the tool  is run.</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                                        
                                                                        
                                                                        
     
                                            <p></p>
                                                                        
                                                                        

                                                                        
                                                          
                                            <p><a name="Deploying"></a>
                                              </p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <h1>Deploying the Service</h1>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>The Folder called deploy in
 the                                       <strong>$AXISCPP_HOME/</strong>
    should    be copied to a folder of your choice .Rename the deploy folder as
                                             <strong> "Axis"</strong>   
 .  Give all permissions to this folder.</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>$ cp &#8211;rf $AXISCPP_HOME/deploy
    /usr/local</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>$ cd /usr/local</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>$ mv deploy Axis</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>$ chmod -R 777 Axis</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>Now set the environment variable
                                         <strong>AXIS_HOME</strong>  pointing
   to  this directory.</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>AXIS_HOME="/usr/local/Axis"</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>

                                                                        
                                                                        
                                                                        
                                                          
                                            <p>Note that inside $AXIS_HOME 
 directory   there are files called axiscpp.conf_linux and axiscpp.conf_win.
Rename axiscpp.conf_linux to axiscpp.conf.&nbsp;  Make sure that it has read
 permissions.   This file contains key, value pairs  of paths used by the
Axis Soap Engine.   You can change the WSDDFILEPATH and  AXISLOGPATH inside
this file according   to your choice.</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                                        
                                                                        
                                                                        
                                            <p>$ <b>cd</b> <strong>$AXISCPP_HOME/samples/server<br>
$ sh build.sh<br>
                                            </strong><br>
                                            <br>
By typing above in&nbsp; the  command   line the dynamic library ( <strong>
libcalculator.so</strong>  for example) is created and installed<br>
in<br>
                                            </p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>$AXIS_HOME/webservices 
 where   $AXIS_HOME = /usr/local/apache/Axis</strong></p>

                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>Modify the <b>$AXIS_HOME/conf/</b><strong>
server.wsdd</strong>        .&nbsp; (You have a  sample   server.wsdd file
entry given below appropriately  filled for this service).</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>&lt;?xml version="1.0" 
 encoding="UTF-8"?&gt;</strong><br>
           <strong>&lt;deployment xmlns="http://xml.apache.org/axis/wsdd/"xmlns:C="http://xml.apache.org/axis/wsdd/providers/c"&gt;</strong><br>
          <b>&lt;service&gt;</b><br>
           <strong></strong><b>&lt;service name ="Calculator" provider ="CPP:RPC"
  description:"Simple calculator web service"&gt;<br>
    &lt;parameter name="classname" &nbsp;value = "/usr/local/Axis/webservices/libcalculator.so"
/&gt;</b></p>
                                                                        
                                                                        
                                  
                                            <p><b>&lt;parameter name= "allowedMethods"
 value="add sub mul div "/&gt;<br>
    &lt;/service&gt;</b><br>
                                          </p>
                                                                        
                                                                        
                                     
                                            <p><strong>&lt;/deployment&gt;</strong></p>
                                                                        

                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        

                                                                        
                                                                        
                                                                         
                                           
                                            <p><strong></strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>Start the Apache server</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>$ /usr/local/apache/bin/apachectl
    start</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        

                                                                        
                                                                        
                                                          
                                            <p>Now open a browser and enter
 the   link http://localhost/axis If the service is correctly deployed then
 it   will be displayed in a table of deployed services which contain information
   such as service name, link to wsdl and a description of the service.</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><a name="Client"></a>
                                              </p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <h1>Client side Stubs Generated 
 by the wsdl2ws Tool</h1>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p>WSDL2Ws tools will generate 
 the stubs for the client side. You will have  C++ Client class and header 
 file.</p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        

                                                          
                                            <p><strong>$ cd $AXISCPP_HOME/samples/client/simple</strong></p>
                                            <p><strong>$ cp -f $AXISCPP_HOME/samples/server/simple/Calculator.wsdl
./</strong></p>
                                            <p><strong>*important:In this
sample we generate the stubs using Calculator.wsdl and wsdl2ws tool. But
in the folder you will find already generated files. If you wish to use those
without generating new ones you can do so. We recommend that you run the
sample with the already generated files in the first round and<br>
 later do the same with code generated from Calcuator.wsdl.</strong><br>
                                            </p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                       
                                            <p><strong>$ java org.apache.axis.wsdl.wsdl2ws.WSDL2Ws
  Calculator.wsdl -lc++  -sclient</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong><br>
Note:</strong>  again  if you specify <strong>-o./GenClassesClient</strong>
  you will have source  generated   inside GenClassClient folder instead
of current  folder where  the tool is   run. Before compiling the client
you have to write  a class  which contain   a main method in which Calculator
instance  is created and  its methods  are called.</p>
                                                                        
                                                                        
                                                                        

                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        


                                            <p>Then fill the samples with
 the relevant business logics .</p>



                                            <p>Then fill the main method in
a file as follows</p>

    <p>
    <b>#include "Calculator.h" </b><br>
    <b>#include&lt;stdio.h&gt; </b> <br>
    <b> int main()</b> <br>
    <b>&nbsp;{ </b> <br>
    <b>&nbsp;&nbsp;Calculator c;</b> <br>
    <b>&nbsp;&nbsp;int intOut;</b><br>
    <b>&nbsp;&nbsp;c.add(20, 40, intOut); </b> <br>
    <b>&nbsp;&nbsp;printf("result is = %d\n", intOut);</b><br>
    <b>&nbsp;&nbsp;return 0; </b><br>
    <b>&nbsp;}</b>
     </p>

                                            <p>Then build by<br>
                                            <b>cd $AXISCPP_HOME/samples/client</b><br>
                                            </p>
                                            <p><b>sh build.sh</b><br>
Then to run the calculator  sample</p>



                                            <p><b>$ cd AXISCPP_HOME/samples/simple</b></p>



                                            <p><b>./calculator &lt;server&gt;
 &lt;port&gt; &nbsp;&lt;command&gt; &nbsp;&lt;param1&gt; &nbsp;&lt;param2&gt;</b><br>
                                          <br>
     Example:<br>
                                          </p>
                                                                        
                                                                        
                                     
                                            <p><b>./calculator locathost 80
add 10 20</b></p>
                                                                        
                                                                        
                                     
                                            <p><br>
                                          </p>
                                                                        
                                                                        
                                     
                                            <p><a name="sps"></a>
                                                     <br>
                                          </p>
                                                                        
                                                                        
                                     
                                            <h1><b>Building Serverside of
 &nbsp;provided Samples</b></h1>
   <p>Basically this will include all the Interoptest Samples and calculator
sample.</p><br>
                                                                        
                                                                        
                                                                        
    
                                            <p><strong>cd $AXISCPP_HOME/samples/server</strong></p>
                                                                        
                                                                        
                                                                        
    
                                            <p><strong></strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>$ sh autogen.sh</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>$ sh runconfig</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>$ make</strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>$ make install<br>
         </strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                     
                                            <p><strong>OR<br>
         </strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                     
                                            <p><strong>$ sh build.sh&nbsp;<br>
         </strong></p>
                                                                        
                                                                        
                                                  <p>Once you type the above
command all the samples will be deployed in $AXIS_HOME/webservices folder.<br>
you also have sample $AXIS_HOME/conf/server.wsdd_linux file which you should
rename to server.wsdd,<br>
which contain all the neccessary entries for these sevices.<br>
                                            <br></p>
                                            <b>Restart Apache</b><br>
                                                     <p><a name="scls"></a></p>
                                                     <br>
                                                                        
                                                                        
                                                                        
                                                                        
                                                         
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <h1>Building Client Side of the
 provided samples <br>
         </h1>
                                                                        
                                                                        
                                                                        
                                                                        
                                                                        
                                                                        
                                         
                                            <p><strong>cd $AXISCPP_HOME/samples/client</strong></p>
                                                                        
                                                                        
                                     
                                            <p><strong>$ sh autogen.sh</strong></p>
                                                                        
                                                                        
                                     
                                            <p><strong>$ sh runconfig</strong></p>
                                                                        
                                                                        
                                     
                                            <p><strong>$ make</strong></p>
                                                                        
                                                                        
                                     
                                            <p><strong>$ make install<br>
                                          </strong></p>
                                                                        
                                                                        
                                     
                                            <p><strong>OR<br>
                                          </strong></p>
                                          <strong>$ sh build.sh </strong><br>
                                          <br>
                                          <p>sample executables will be created
in your current folder.<br>
to run samples one by one</p>                                           
                                                                        
                                                                        
                                                                        
                                                                        
                                                                        
                                                                        
                                                                        
                         
                                            <p><strong><strong>$ ./base localhost
80 &nbsp;</strong></strong></p>
                                            <p><strong><strong><br>
                                            </strong></strong></p>
<p> to run all the samples at once <br>
sh run_interoptests.sh (Note: local host and port 80 is assumed) </p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong>                 
                         </strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <h1><strong></strong></h1>
                                                                        
                                                                        
                                                                        
                                                                        
                                                                        
                                                                        
                                                    <br>
                                                                        
                                                                        
                                     
                                            <p><strong><strong><strong></strong></strong></strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong><strong>         
                                 </strong></strong></p>
                                                                        
                                                                        
                                                                        
                                                              
					<p><a name="handlers"></a></p>
					<h1><strong><strong>Handlers</strong></strong></h1>

					<p>
					Handlers are pluggable components to Axis C++. We have included a set of sample handlers for your reference. You could write your own handlers by following the instructions which are given for the sample Handlers.
					</p>					
					<p>
					Note: If you are using Client side Handlers you need to enter the following entry in the AXIS_HOME/axiscpp.conf configuration file.
					</p>					
					<p>
					CLIENTWSDDFILEPATH:Axis\conf\client.wsdd
					</p>					
					<p>
					After entering this entry your AXIS_HOME/axiscpp.conf configuration file will look like:
					</p>					
					<p>
					&nbsp;&nbsp;&nbsp;&nbsp;AXISLOGPATH:Axis\logs\AxisLog.txt
					</p>
					<p>
					&nbsp;&nbsp;&nbsp;&nbsp;WSDDFILEPATH:Axis\conf\server.wsdd
					</p>
					<p>
					&nbsp;&nbsp;&nbsp;&nbsp;CLIENTWSDDFILEPATH:Axis\conf\client.wsdd
					</p>
					<br>

					<p>
					<strong><strong>Testing the sample Handlers</strong></strong>
					</p>

					<p>
					We have included the following sample Handlers for your reference.
					</p>
					<p>1)      echoStringHeaderHandler (A server side handler sample)</p>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;This sample handler will simply echo (i.e send back) the string which you send in the SOAP request.</p>
					<p>2)      testHandler (A client side handler sample)</p>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;This sample handler will simply add a SOAP Header to the generated SOAP request.</p>
					
					<br><p>Please note that these are very primitive sample handlers and are presented here to give you an idea about writing your own Handlers.</p>
					<br>
					<p><strong><strong>echoStringHeaderHandler</strong></strong></p>
                                        <p><strong><strong>Building the Sample Handlers in RedHat linux</strong></strong></p>

					<br><p><strong><strong>Building echoStringHeaderHandler (A server side handler sample)</strong></strong></p>
					
					<p>
					The build files are available at AXISCPP_HOME/samples/server/echoStringHeaderHandler. Change your current directory to this direcotory and then you could execute the following.
					</p>
					<p>&nbsp;&nbsp;&nbsp;&nbsp; sh autogen.sh</p>
					<p>&nbsp;&nbsp;&nbsp;&nbsp; sh runconfig</p>
					<p>&nbsp;&nbsp;&nbsp;&nbsp; make</p>
					<p>&nbsp;&nbsp;&nbsp;&nbsp; make install</p>
					
					<p>The handler so file will be created at $AXIS_HOME/handlers/custom/echoStringHeaderHandler.</p>
                                                                                                                                                                            
                                        <p>
                                        <strong><strong>Configuring the Handler</strong></strong>
                                        </p>

					<p>Now edit the AXIS_HOME/conf/server.wsdd to include the handler for a particular service.</p>
					
					<br>
					<p>&lt;service name="Calculator" provider="CPP:RPC" description="Simple Calculator Axis C++ Service "&gt;</p>
					<p>&lt;requestFlow name="CalculatorHandlers"&gt;</p>
					<p>&lt;handler name="ESHHandler" type="AXIS_HOME/handlers/custom/echoStringHeaderHandler/libeshhandler.so"&gt;</p>
					<p>&lt;/handler&gt;</p>
					<p>&lt;/requestFlow&gt;</p>
					<p>&lt;responseFlow name="CalculatorHandlers"&gt;</p>
					<p>&lt;handler name="ESHHandler" type="AXIS_HOME/handlers/custom/echoStringHeaderHandler/libeshhandler.so"&gt;</p>
					<p>&lt;/handler&gt;</p>
					<p>&lt;/responseFlow&gt;</p>
                                                                                
					<p>&lt;parameter name="allowedMethods" value="add sub mul div "/&gt;</p>
					<p>&lt;parameter name="className" value="Axis\webservices\Calculator.dll" /&gt;</p>
					<p>&lt;/service&gt;</p>

					<br>
					<p>
					Note: Make sure you specify the correct path of the handler so in the server.wsdd file. Replace the AXIS_HOME with the exact relative path which AXIS_HOME points to. (eg: type="/usr/local/apache2/Axis/handlers/custom/echoStringHeaderHandler/libeshhandler.so )
					</p>

					<p>Now you are almost done to run your server side handler.</p>

					<p>Restart the Apache server and that is it.</p>

					<p>
                                        <strong><strong>Running the Handler</strong></strong>
                                        </p>

					<p>
					Since this Handler is configured to the Calculator web service in the above step, this Handler will be executed when a client send a SOAP request to the Calculator web service.
					</p>

					<br>
					<p>
                                        <strong><strong>testHandler</strong></strong>
                                        </p>
					
					<p>
                                        <strong><strong>Building the Sample Handlers in RedHat linux</strong></strong>
                                        </p>

					<br>
                                        <p>
                                        <strong><strong>Building testHandler (A client side handler sample)</strong></strong>
                                        </p>

					<p>
					The build files are available at AXISCPP_HOME/samples/client/testHandler. Change your current directory to this direcotory and then you could execute the following.
					</p>

					<p>&nbsp;&nbsp;&nbsp;&nbsp; sh autogen.sh</p>
                                        <p>&nbsp;&nbsp;&nbsp;&nbsp; sh runconfig</p>
                                        <p>&nbsp;&nbsp;&nbsp;&nbsp; make</p>
                                        <p>&nbsp;&nbsp;&nbsp;&nbsp; make install</p>	

					<p>The handler so file will be created at $AXIS_HOME/handlers/client/test_handler.</p>

					<p>
                                        <strong><strong>Configuring the Handler</strong></strong>
                                        </p>

					<p>Now edit the AXIS_HOME/conf/client.wsdd to include the handler for a particular service.</p>
					
					<br>
					<p>&lt;service name="Calculator" provider="CPP:DOCUMENT" description="Calculator web service"&gt;</p>
					<p>&lt;requestFlow name="CalculatorHandlers"&gt;</p>
					<p>&lt;handler name="TestHandler" type="AXIS_HOME/handlers/client/test_handler/libtest_client_handler.so"&gt;</p>
					<p>&lt;/handler&gt;</p>
					<p>&lt;/requestFlow&gt;</p>
					<p>&lt;/service&gt;</p>
					<br>

					<p>
					Note: Make sure you specify the correct path of the handler so in the client.wsdd file. Replace the AXIS_HOME with the exact relative path which AXIS_HOME points to. (eg: type="/usr/local/apache2/Axis/handlers/client/test_handler/libtest_client_handler.so)
					</p>

					<p>Now you are almost done to run your client side handler.</p>

					<p>Note: If you are using Client side Handlers you need to enter the CLIENTWSDDFILEPATH  entry in the AXIS_HOME/axiscpp.conf configuration file. (See above)</p>

					<p>
                                        <strong><strong>Running the Handler</strong></strong>
                                        </p>

					<p>Since this Handler is configured to the Calculator web service in the above step, this Handler will be executed when you run the calculator web service client. (It is at AXISCPP_HOME/samples/client/simple/calculator)
</p>

					<br>
					<p>
                                        <strong><strong>Handler Notes:</strong></strong>
                                        </p>
	
					<p>1)      You can see the Handler behavior through the TCP Monitor. (TCP Monitor is a Axis Java tool)</p>
					<p>2)      To get an idea of Handlers look at the Handler sample source files.</p>
						<p>&nbsp;&nbsp;&nbsp;&nbsp; a.      echoStringHeaderHandler (AXISCPP_HOME/samples/server/echoStringHeaderHandler)<p>
						<p>&nbsp;&nbsp;&nbsp;&nbsp; b.      testHandler (AXISCPP_HOME/samples/client/testHandler)<p>
					
					<br><br>
								  
						    <p><strong><strong><a name="Getting"></a>
                                              </strong></strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <h1><strong><strong>Getting a
 CVS checkout</strong></strong></h1>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong><strong>Visit    
                                              <a href="http://ws.apache.org/">
        http://ws.apache.org/</a>
          click on "axis" and then on <strong>"CVS Repository"</strong> to
 find   details  on accessing the CVS Repository. It will have instructions
 similar   to the   following."Anyone can checkout source code from our anonymous 
 CVS   server.  To do so, simply use the following commands (if you are using 
 a  GUI CVS client,  configure it appropriately):</strong></strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong><strong><strong> cvs
 -d :pserver:anoncvs@cvs.apache.org:/home/cvspublic     login</strong></strong></strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong><strong><strong> password:
   anoncvs</strong></strong></strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong><strong><strong> cvs
 -d :pserver:anoncvs@cvs.apache.org:/home/cvspublic    checkout -d &lt;your
local folder&gt; ws-axis/c"</strong></strong></strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p><strong><strong></strong></strong></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          
                                            <p></p>
                                                                        
                                                                        
                                                                        
                                                                        
                                                          <br>
          <br>
                                                                        
                                                                        
                                                                        
                                                                        
                                                     
                                            </body>
                                            </html>
